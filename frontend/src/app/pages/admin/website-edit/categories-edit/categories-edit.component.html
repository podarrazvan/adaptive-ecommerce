<button
class="main-btn"
type="button"
(click)="categoriesHide = !categoriesHide"
>
Edit
</button>
<div *ngIf="!categoriesHide">
  <div class="backdrop"></div>
  <div class="alert">
    <div class="alert-box">
      <div class="cancel-btn">
        <button (click)="categoriesHide = true" class="btn btn-danger">
          X
        </button>
      </div>

      <form [formGroup]="categoriesFormGroup">
        <div class="form-row align-items-center">
          <div class="col-auto">
            <label for="categoryInput"><b>Add a new category</b></label>
            <input
              class="form-control"
              id="categoryInput"
              placeholder="Category"
              formControlName="name"
            />
          </div>
          <div class="col-auto">
            <!--To do: fix newCategory.valid-->
            <button
              type="button"
              (click)="addNewValue()"
              class="main-btn"
            >
              Add
            </button>
          </div>
        </div>
        <ul class="list-group">
          <div *ngFor="let category of categoriesForm.value; let i = index">
            <!--To do: implement active-->
            <li class="list-group-item">
              <h1 *ngIf="editCategoryMode != i">{{ category.name }}</h1>
  
              <input
                [hidden]="editCategoryMode != i"
                type="text"
                class="form-control"
                [value]="category"
                #editedCategory
              />
              <hr />
              <div class="buttons-website-edit">
                <button (click)="delete(i, category)" class="empty-btn">
                  <mat-icon>delete</mat-icon>
                </button>
  
                <button
                  *ngIf="editCategoryMode != i"
                  (click)="editCategoryMode = i"
                  class="empty-btn"
                >
                  <mat-icon>create</mat-icon>
                </button>
                <button
                  *ngIf="editCategoryMode == i"
                  (click)="edit(editedCategory, category)"
                  class="btn btn-primary"
                >
                  Done
                </button>
              </div>
            </li>
          </div>
        </ul>
      </form>
    </div>
  </div>
</div>
