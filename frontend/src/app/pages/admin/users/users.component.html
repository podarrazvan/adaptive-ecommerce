<div class="content">
  <app-delete-alert
    (delete)="onDelete($event)"
    *ngIf="deleteUser"
  ></app-delete-alert>
  <table class="table shadow" *ngIf="!loading">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Email</th>
        <th scope="col">Username</th>
        <!-- <th scope="col" class="active">Is Active</th> -->
        <th scope="col">Delete</th>
        <th scope="col admin-col">Admin</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users; let i = index">
        <td>
          {{ i + 1 }}
        </td>
        <td>
          {{ user.email }}
        </td>
        <td>
          {{ user.username }}
        </td>
        <!-- <td>
          is active
        </td> -->
        <td>
          <button (click)="deleteUserAlert(i)" class="main-btn">Delete</button>
        </td>
        <td *ngIf="user.isAdmin">
          <span (click)="updateAdmin(user._id, false, i)" class="material-icons"> admin_panel_settings </span>
        </td>
        <td *ngIf="!user.isAdmin">
          <button class="simple-btn" (click)="updateAdmin(user._id, true, i)">Make admin</button>
        </td>
      </tr>
    </tbody>
  </table>
  <app-pagination
    [haveNext]="haveNext"
    (nextPage)="nextPage()"
    (previousPage)="previousPage()"
  ></app-pagination>
</div>
